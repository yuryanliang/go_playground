package main

import (
	"fmt"
	"io/ioutil"
	"net/http"
	"strings"
)

func main() {

	url := "https://graph.microsoft.com/v1.0/users/df22f023-9e0f-4d78-bdd5-d496688af11e/drive/items/01BHHXFLMCJ4NRMCRHHRGINUEUDTD4UMNN/permissions/aTowIy5mfG1lbWJlcnNoaXB8YWRtaW5AYTgzMGVkYWQ5MDUwODQ5bmRhMzA3OS5vbm1pY3Jvc29mdC5jb20"

	payload := strings.NewReader("{\n  \"roles\": [ \"read\" ]\n}")

	req, _ := http.NewRequest("PATCH", url, payload)

	req.Header.Add("Authorization", "Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6IkFRQUJBQUFBQUFEQ29NcGpKWHJ4VHE5Vkc5dGUtN0ZYb2ZsNllEZ3pMTFJfcEdLbktMR1VpaE5mRzdFRVJVa2Vlc2xGUnV4dXRvd3o1T1V4T2xadlRpR00xb0FkYW9Sd1Z2MExNeURZaHJnMVptY1hBdF9qdWlBQSIsImFsZyI6IlJTMjU2IiwieDV0IjoiSEJ4bDltQWU2Z3hhdkNrY29PVTJUSHNETmEwIiwia2lkIjoiSEJ4bDltQWU2Z3hhdkNrY29PVTJUSHNETmEwIn0.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8yZWQyOGE3NC0xZjZmLTQ4MjktODUzMC1mZTM1OWM3N2QzNWMvIiwiaWF0IjoxNTU4NjgzOTM5LCJuYmYiOjE1NTg2ODM5MzksImV4cCI6MTU1ODY4NzgzOSwiYWlvIjoiNDJaZ1lMaXQ3aGc4YWZkOVZudVdCZFVmMm04S0FRQT0iLCJhcHBfZGlzcGxheW5hbWUiOiJHcmFwaENvbm5lY3RvciIsImFwcGlkIjoiODY2OTE5YzgtOGI5OS00M2M0LTliMjktYWY5MmNmM2M3YmIzIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMmVkMjhhNzQtMWY2Zi00ODI5LTg1MzAtZmUzNTljNzdkMzVjLyIsIm9pZCI6IjQ5MGMwZmUyLTQ2MWUtNDAzNy04ZGU4LTJiYWI1YTA3MjhjMCIsInJvbGVzIjpbIkNoYXQuVXBkYXRlUG9saWN5VmlvbGF0aW9uLkFsbCIsIkNhbGxzLkpvaW5Hcm91cENhbGwuQWxsIiwiRWR1Um9zdGVyLlJlYWQuQWxsIiwiT25saW5lTWVldGluZ3MuUmVhZC5BbGwiLCJNYWlsLlJlYWRXcml0ZSIsIk9ubGluZU1lZXRpbmdzLlJlYWRXcml0ZS5BbGwiLCJEZXZpY2UuUmVhZFdyaXRlLkFsbCIsIlVzZXIuUmVhZFdyaXRlLkFsbCIsIkRvbWFpbi5SZWFkV3JpdGUuQWxsIiwiQXBwbGljYXRpb24uUmVhZFdyaXRlLk93bmVkQnkiLCJTZWN1cml0eUV2ZW50cy5SZWFkLkFsbCIsIkNhbGVuZGFycy5SZWFkIiwiRWR1QXNzaWdubWVudHMuUmVhZFdyaXRlLkFsbCIsIlBlb3BsZS5SZWFkLkFsbCIsIkFwcGxpY2F0aW9uLlJlYWRXcml0ZS5BbGwiLCJDYWxscy5Jbml0aWF0ZUdyb3VwQ2FsbC5BbGwiLCJHcm91cC5SZWFkLkFsbCIsIkFjY2Vzc1Jldmlldy5SZWFkV3JpdGUuQWxsIiwiRGlyZWN0b3J5LlJlYWRXcml0ZS5BbGwiLCJFZHVBc3NpZ25tZW50cy5SZWFkV3JpdGVCYXNpYy5BbGwiLCJNYWlsYm94U2V0dGluZ3MuUmVhZCIsIkVkdUFkbWluaXN0cmF0aW9uLlJlYWQuQWxsIiwiQ2FsbHMuSm9pbkdyb3VwQ2FsbEFzR3Vlc3QuQWxsIiwiU2l0ZXMuUmVhZC5BbGwiLCJTaXRlcy5SZWFkV3JpdGUuQWxsIiwiQ29udGFjdHMuUmVhZFdyaXRlIiwiR3JvdXAuUmVhZFdyaXRlLkFsbCIsIlNpdGVzLk1hbmFnZS5BbGwiLCJTZWN1cml0eUV2ZW50cy5SZWFkV3JpdGUuQWxsIiwiTm90ZXMuUmVhZC5BbGwiLCJVc2VyLkludml0ZS5BbGwiLCJFZHVSb3N0ZXIuUmVhZFdyaXRlLkFsbCIsIkZpbGVzLlJlYWRXcml0ZS5BbGwiLCJEaXJlY3RvcnkuUmVhZC5BbGwiLCJVc2VyLlJlYWQuQWxsIiwiRWR1QXNzaWdubWVudHMuUmVhZEJhc2ljLkFsbCIsIkVkdVJvc3Rlci5SZWFkQmFzaWMuQWxsIiwiRmlsZXMuUmVhZC5BbGwiLCJNYWlsLlJlYWQiLCJDaGF0LlJlYWQuQWxsIiwiQ2hhbm5lbE1lc3NhZ2UuUmVhZC5BbGwiLCJVc2VyLkV4cG9ydC5BbGwiLCJFZHVBc3NpZ25tZW50cy5SZWFkLkFsbCIsIkNhbGVuZGFycy5SZWFkV3JpdGUiLCJJZGVudGl0eVJpc2t5VXNlci5SZWFkLkFsbCIsIkFjY2Vzc1Jldmlldy5SZWFkLkFsbCIsIkVkdUFkbWluaXN0cmF0aW9uLlJlYWRXcml0ZS5BbGwiLCJNYWlsLlNlbmQiLCJDaGFubmVsTWVzc2FnZS5VcGRhdGVQb2xpY3lWaW9sYXRpb24uQWxsIiwiTWFpbGJveFNldHRpbmdzLlJlYWRXcml0ZSIsIkNvbnRhY3RzLlJlYWQiLCJJZGVudGl0eVJpc2tFdmVudC5SZWFkLkFsbCIsIkF1ZGl0TG9nLlJlYWQuQWxsIiwiTWVtYmVyLlJlYWQuSGlkZGVuIiwiQ2FsbHMuQWNjZXNzTWVkaWEuQWxsIiwiUHJvZ3JhbUNvbnRyb2wuUmVhZC5BbGwiLCJTaXRlcy5GdWxsQ29udHJvbC5BbGwiLCJQcm9ncmFtQ29udHJvbC5SZWFkV3JpdGUuQWxsIiwiUmVwb3J0cy5SZWFkLkFsbCIsIkNhbGxzLkluaXRpYXRlLkFsbCIsIk5vdGVzLlJlYWRXcml0ZS5BbGwiXSwic3ViIjoiNDkwYzBmZTItNDYxZS00MDM3LThkZTgtMmJhYjVhMDcyOGMwIiwidGlkIjoiMmVkMjhhNzQtMWY2Zi00ODI5LTg1MzAtZmUzNTljNzdkMzVjIiwidXRpIjoiWXJLYVBuQk5UMHViNEZaVnNCY1dBQSIsInZlciI6IjEuMCIsInhtc190Y2R0IjoxNDI2MTI1NTE3fQ.c-LJ78C5-yRSdP_2K0OftvdZWWlmumoZVivyJ9TsdVrm8Vy71_ZzRZysufL8muGxQLWym7RE--DEYa8W91_Ph_jWHFoo_uPwQn44NOgJ_w5zt4PHw12Cs08bAVWQWK7XtGrRgGNcwpuPvXAuqWi5ENYDTo7BMSZveqXnFHDYlSmnsydOsR3A6akh50GJEEs6lIgtEOdMn-AzvSGgHa4R88Y38VfKqZdbIH3kGnE1h9voDpCDxzmeuIiGnm3PX2Z-bmfxuGx9PQe1UzuOASLCKc7xJCk6X9RNp6hbG6-V8k1_JQDXTdjIOUeEGyuICM9yk9UQ5X4cyecEAlVBNb1aog")
	req.Header.Add("Content-Type", "application/json")

	res, _ := http.DefaultClient.Do(req)

	defer res.Body.Close()
	body, _ := ioutil.ReadAll(res.Body)

	fmt.Println(res)
	fmt.Println(string(body))

}
